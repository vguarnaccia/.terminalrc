###############################################################################
# Bash Setup
###############################################################################

PROMPT_DIRTRIM=3
bind 'set completion-ignore-case On'
bind 'set show-all-if-ambiguous on'
echo "Did you know that:"; whatis "$(find /bin | shuf -n 1)"

# source non-generic configuration
if [ -e ~/.terminalrc/bash.local ] ; then
    source ~/.terminalrc/bash.local
fi

###############################################################################
# Helpful Bash Functions
###############################################################################

alias lh="ls -Ahl"
function cdl { cd "$1"; ls; }
function mkcd { 
    mkdir -p -- "$1";
    cd -P -- "$1"; 
}

# Useful unarchiver!
function extract {
        if [ -f "$1" ] ; then
                case "$1" in
                        *.tar.bz2)        tar xjf "$1"                ;;
                        *.tar.gz)        tar xzf "$1"                ;;
                        *.bz2)                bunzip2 "$1"                ;;
                        *.rar)                rar x "$1"                ;;
                        *.gz)                gunzip "$1"                ;;
                        *.tar)                tar xf "$1"                ;;
                        *.tbz2)                tar xjf "$1"                ;;
                        *.tgz)                tar xzf "$1"                ;;
                        *.zip)                unzip "$1"                ;;
                        *.Z)                uncompress "$1"        ;;
                        *)                        echo "'$1' cannot be extracted via extract()" ;;
                esac
        else
                echo "'$1' is not a valid file"
        fi
}

###############################################################################
# Git Abbreviations
###############################################################################

alias gs='git status'
alias ga='git add'
alias gd='git diff'
alias gdc='git diff --cached'
alias grm='git rm'
alias grc='git rm --cached'
function gc {
    git commit -m "$*"
}
alias gl="git log --graph --pretty=format:'%C(yellow)%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset'" # pretty log
alias gpl='git pull'
alias gpu='git push'
alias gbr='git branch -vv'
alias gst='git stash'
